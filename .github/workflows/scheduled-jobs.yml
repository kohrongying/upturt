# .github/workflows/scheduled-builds.yml
name: Trigger Site Rebuild on a CRON Schedule

on:
  schedule:
    # Runs "at minute 5 past every hour" (see https://crontab.guru)
    - cron: '5 * * * *'
jobs:
  build:
    name: Trigger Cron Healthcheck
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: '3.x' # Version range or exact version of a Python version to use, using SemVer's version range syntax
          architecture: 'x64' # optional x64 or x86. Defaults to x64 if not specified
      - run: make install
      - run: export AIRTABLE_API_KEY=${{ secrets.AIRTABLE_API_KEY }}
      - run: make cron-healthcheck